<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Đăng nhập • Nhà thuốc LC</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <style>
      body {
        background: linear-gradient(120deg, #0d47a1, #1565c0);
      }
      .card {
        border-radius: 1rem;
      }
    </style>
  </head>
  <body class="d-flex align-items-center" style="min-height: 100vh">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6 col-lg-4">
          <div class="card p-3 p-md-4 shadow-lg">
            <h4 class="fw-bold text-center mb-2">Đăng nhập</h4>
            <form id="loginForm">
              <div class="mb-2">
                <input
                  id="loginEmail"
                  class="form-control"
                  placeholder="Email hoặc SĐT"
                  required
                />
              </div>
              <div class="mb-2">
                <input
                  id="loginPass"
                  class="form-control"
                  type="password"
                  placeholder="Mật khẩu"
                  required
                />
              </div>
              <button class="btn btn-primary w-100">Đăng nhập</button>
            </form>
            <div class="text-center text-muted my-2">hoặc</div>
            <div class="d-grid gap-2">
              <a class="btn btn-outline-primary"
                ><i class="bi bi-facebook me-1"></i> Tiếp tục với Facebook</a
              >
              <a class="btn btn-outline-danger"
                ><i class="bi bi-google me-1"></i> Tiếp tục với Google</a
              >
            </div>
            <div class="text-center mt-3">
              Chưa có tài khoản? <a href="register.html">Đăng ký</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="assets/js/app.js"></script>
    <script>
      // DEMO: lưu trạng thái đăng nhập vào localStorage.
      // Khi có API thật, thay bằng fetch tới ../api/auth.php?action=login
      document
        .getElementById("loginForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const email = document.getElementById("loginEmail").value.trim();
          const pass = document.getElementById("loginPass").value.trim();

          // ---- MOCK ----
          setUser({ id: 1, name: email.split("@")[0] || "Khách", email });
          location.href = "index.html";

          /* ---- API THẬT (tham khảo)
    try{
      const res = await fetch("../api/auth.php?action=login", {
        method: "POST", headers: {"Content-Type":"application/json"},
        body: JSON.stringify({ email, password: pass })
      });
      const json = await res.json();
      if(json.status !== "success") throw new Error(json.message || "Đăng nhập thất bại");
      setUser({ id: json.user.id, name: json.user.name, email: json.user.email, token: json.token });
      location.href = "index.html";
    }catch(err){ alert(err.message); }
    */
        });
    </script>
  </body>
</html>
